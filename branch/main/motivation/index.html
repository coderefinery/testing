

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Motivation &mdash; Automated testing  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_lesson.css?v=e9df6548" />
      <link rel="stylesheet" type="text/css" href="../_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />

  
    <link rel="shortcut icon" href="../_static/coderefinery.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=187304be"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=582ca9e2"></script>
      <script src="../_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="../_static/tabs.js?v=3030b3cb"></script>
      <script data-domain="coderefinery.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Testing locally" href="../locally/" />
    <link rel="prev" title="Automated testing - Preventing yourself and others from breaking your functioning code" href="../" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            Automated testing
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The lesson</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Motivation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#untested-software-can-be-compared-to-uncalibrated-detectors">Untested software can be compared to uncalibrated detectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-in-a-nutshell">Testing in a nutshell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-can-tests-help-you-do">What can tests help you do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#discussion-when-is-it-ok-not-to-add-tests">Discussion: When is it OK not to add tests?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#discussion-what-s-easy-and-hard-to-test">Discussion: What’s easy and hard to test?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#types-of-tests">Types of tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-should-you-do">What should you do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-to-start">Where to start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../locally/">Testing locally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../continuous-integration/">Automated testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../test-design/">Test design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conclusions/">Conclusions and recommendations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../full-cycle-ci/">(Optional) Full-cycle collaborative workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://youtu.be/xbTTDLA3txI">Shell crash course</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/">List of exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/">Instructor guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/lessons/core/">All lessons</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/">CodeRefinery</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/lessons/reusing/">Reusing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">Automated testing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Motivation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/coderefinery/testing/blob/main/content/motivation.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="motivation">
<h1>Motivation<a class="headerlink" href="#motivation" title="Link to this heading"></a></h1>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Appreciate the importance of testing software</p></li>
<li><p>Understand various benefits of testing</p></li>
</ul>
</div>
<section id="untested-software-can-be-compared-to-uncalibrated-detectors">
<h2>Untested software can be compared to uncalibrated detectors<a class="headerlink" href="#untested-software-can-be-compared-to-uncalibrated-detectors" title="Link to this heading"></a></h2>
<p><em>“Before relying on a new experimental device, an experimental scientist always
establishes its accuracy. A new detector is calibrated when the scientist
observes its responses to known input signals. The results of this
calibration are compared against the expected response.”</em></p>
<blockquote>
<div><p>[From <a class="reference external" href="https://carpentries-incubator.github.io/python-testing/">Testing and Continuous Integration with Python</a>, created by K. Huff]</p>
</div></blockquote>
<p>With testing, simulations and analysis using software <em>can</em> be held to the same standards as experimental measurement devices!</p>
<p>What can go wrong when research software has bugs?  Look no further:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://science.sciencemag.org/content/314/5807/1856.summary">A Scientist’s Nightmare: Software Problem Leads to Five Retractions</a></p></li>
<li><p><a class="reference external" href="https://arstechnica.com/information-technology/2019/10/chemists-discover-cross-platform-python-scripts-not-so-cross-platform/">Researchers find bug in Python script may have affected hundreds of studies</a></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="testing-in-a-nutshell">
<h2>Testing in a nutshell<a class="headerlink" href="#testing-in-a-nutshell" title="Link to this heading"></a></h2>
<p>In software tests, expected results are compared with observed results
in order to establish accuracy.  Why are we not comparing directly all
digits with the expected result?:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-0-Qysr" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Qysr" name="Qysr" role="tab" tabindex="-1">C++</button><button aria-controls="panel-0-Ug==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Ug==" name="Ug==" role="tab" tabindex="-1">R</button><button aria-controls="panel-0-SnVsaWE=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-SnVsaWE=" name="SnVsaWE=" role="tab" tabindex="-1">Julia</button><button aria-controls="panel-0-Rm9ydHJhbg==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Rm9ydHJhbg==" name="Rm9ydHJhbg==" role="tab" tabindex="-1">Fortran</button></div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">temp_f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts temperature in Fahrenheit</span>
<span class="sd">    to Celsius.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_c</span> <span class="o">=</span> <span class="p">(</span><span class="n">temp_f</span> <span class="o">-</span> <span class="mf">32.0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">5.0</span><span class="o">/</span><span class="mf">9.0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">temp_c</span>

<span class="c1"># This is the test function: `assert` raises an error if something</span>
<span class="c1"># is wrong.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_fahrenheit_to_celsius</span><span class="p">():</span>
    <span class="n">temp_c</span> <span class="o">=</span> <span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">temp_f</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
    <span class="n">expected_result</span> <span class="o">=</span> <span class="mf">37.777777</span>
    <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">temp_c</span> <span class="o">-</span> <span class="n">expected_result</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1.0e-6</span>
    
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Qysr" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span><span class="c1">  // std::abs</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="cm">/* Converts temperature in Fahrenheit to Celsius. */</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">fahrenheit_to_celsius</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">temp_f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">temp_c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">temp_f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">32.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">5.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">9.0</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">temp_c</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* This is the test function: `throws` raises an error if something is wrong. */</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">test_fahrenheit_to_celsius</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">temp_c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="mf">100.0</span><span class="p">);</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">expected_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">37.777777</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">temp_c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">expected_result</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0e-6</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="s">&quot;Error&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="w"> </span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="w">  </span><span class="n">test_fahrenheit_to_celsius</span><span class="p">();</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">EXIT_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Ug==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Ug==" name="Ug==" role="tabpanel" tabindex="0"><div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># Converts temperature in Fahrenheit to Celsius.</span>
<span class="n">fahrenheit_to_celsius</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">temp_f</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">temp_c</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">(</span><span class="n">temp_f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">32.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="m">5.0</span><span class="o">/</span><span class="m">9.0</span><span class="p">)</span>
<span class="w">  </span><span class="n">temp_c</span>
<span class="p">}</span>

<span class="c1"># This is the test function: `assertive::is_true` raises an error if something</span>
<span class="c1"># is wrong.</span>
<span class="n">test_fahrenheit_to_celsius</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">temp_c</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">temp_f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100.0</span><span class="p">)</span>
<span class="w">  </span><span class="n">expected_result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">37.777777</span>
<span class="w">  </span><span class="n">assertive</span><span class="o">::</span><span class="nf">is_true</span><span class="p">(</span><span class="nf">abs</span><span class="p">(</span><span class="n">temp_c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">expected_result</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">1.0e-6</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-SnVsaWE=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-SnVsaWE=" name="SnVsaWE=" role="tabpanel" tabindex="0"><div class="highlight-Julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">Test</span>

<span class="s">&quot;&quot;&quot;</span>
<span class="s">    fahrenheit_to_celsius(temp_f::Float)</span>

<span class="s">Converts temperature in Fahrenheit to Celsius.</span>
<span class="s">&quot;&quot;&quot;</span>
<span class="k">function</span><span class="w"> </span><span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">temp_f</span><span class="p">)</span>
<span class="w">    </span><span class="n">temp_c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">temp_f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">32.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">5.0</span><span class="o">/</span><span class="mf">9.0</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">temp_c</span>
<span class="k">end</span>


<span class="c"># This is the test section</span>
<span class="nd">@testset</span><span class="w"> </span><span class="s">&quot;Test fahrenheit_to_celsius&quot;</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">temp_c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="mf">100.0</span><span class="p">)</span>
<span class="w">    </span><span class="n">expected_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">37.777777</span>
<span class="w">    </span><span class="nd">@test</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">temp_c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">expected_result</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1.0e-6</span>
<span class="k">end</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Rm9ydHJhbg==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Rm9ydHJhbg==" name="Rm9ydHJhbg==" role="tabpanel" tabindex="0"><div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">temperature_conversion</span>

<span class="k">implicit none</span>
<span class="k">call </span><span class="n">test_fahrenheit_to_celsius</span><span class="p">()</span>

<span class="k">contains</span>

<span class="k">function </span><span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">temp_f</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="p">(</span><span class="n">temp_c</span><span class="p">)</span>
<span class="w">   </span><span class="k">implicit none</span>
<span class="k">   </span><span class="kt">real </span><span class="n">temp_f</span>
<span class="w">   </span><span class="kt">real </span><span class="n">temp_c</span>
<span class="w">   </span><span class="n">temp_c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">temp_f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="mf">2.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">5.0</span><span class="o">/</span><span class="mf">9.0</span><span class="p">)</span>
<span class="k">end function </span><span class="n">fahrenheit_to_celsius</span>

<span class="k">subroutine </span><span class="n">test_fahrenheit_to_celsius</span><span class="p">()</span>
<span class="w">   </span><span class="k">implicit none</span>
<span class="k">   </span><span class="kt">real </span><span class="n">temp_c</span>
<span class="w">   </span><span class="kt">real </span><span class="n">expected_result</span>
<span class="w">   </span><span class="n">temp_c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="mi">10</span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">   </span><span class="n">expected_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="mf">7.777777</span>
<span class="w">   </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">temp_c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">expected_result</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0e-6</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">      write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;Error&#39;</span>
<span class="w">   </span><span class="k">else</span>
<span class="k">      write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;Pass&#39;</span>
<span class="w">   </span><span class="k">end if</span>
<span class="k">end subroutine </span><span class="n">test_fahrenheit_to_celsius</span>

<span class="k">end program </span><span class="n">temperature_conversion</span>
</pre></div>
</div>
</div></div>
<p>Or you can test whole programs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3<span class="w"> </span>run-test.py

<span class="go">running: sample_data/set1.csv --output=tests/set1.txt</span>
<span class="go">CORRECT</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="what-can-tests-help-you-do">
<h2>What can tests help you do?<a class="headerlink" href="#what-can-tests-help-you-do" title="Link to this heading"></a></h2>
<p><strong>Preserving expected functionality</strong></p>
<ul class="simple">
<li><p>Check old things when you add new ones</p></li>
</ul>
<p><strong>Help users of your code</strong></p>
<ul class="simple">
<li><p>Verify it’s installed correctly and works.</p></li>
<li><p>See examples of what it should do.</p></li>
</ul>
<p><strong>Help other developers modify it</strong></p>
<ul class="simple">
<li><p>Change things with confidence that nothing is breaking.</p></li>
<li><p>Warning if documentation/examples go out of date.</p></li>
</ul>
<p><strong>Manage complexity</strong></p>
<ul class="simple">
<li><p>If code is easy to test, it’s probably easier to maintain.</p></li>
<li><p>The next lesson <a class="reference external" href="https://coderefinery.github.io/modular-type-along/">Modular code development</a>
demonstrates this.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="discussion-when-is-it-ok-not-to-add-tests">
<h2>Discussion: When is it OK not to add tests?<a class="headerlink" href="#discussion-when-is-it-ok-not-to-add-tests" title="Link to this heading"></a></h2>
<div class="admonition-discussion-when-is-it-ok-not-to-add-tests discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion: When is it OK not to add tests?</p>
<p>Vote in the notes and we’ll discuss soon.  <strong>It is always a balance: there is no “always”/”never”</strong>.</p>
<ol class="arabic simple">
<li><p>Jupyter or R Markdown notebook which produces a plot and you know by
looking at the plot whether it worked?</p></li>
<li><p>A short, “obviously correct” Python or R script which you never intend to reuse?</p></li>
<li><p>A simple short, “obviously correct” shell script?</p></li>
<li><p>Can you give other examples?</p></li>
</ol>
</div>
</section>
<hr class="docutils" />
<section id="discussion-what-s-easy-and-hard-to-test">
<h2>Discussion: What’s easy and hard to test?<a class="headerlink" href="#discussion-what-s-easy-and-hard-to-test" title="Link to this heading"></a></h2>
<div class="admonition-discussion-testing-in-practice discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion: Testing in practice</p>
<p>Use the collaborative notes to answer these questions:</p>
<ol class="arabic simple">
<li><p>Give examples of things (from your work) that are easy to test.</p></li>
<li><p>Give examples of things (from your work) that are hard to test.</p></li>
</ol>
</div>
</section>
<hr class="docutils" />
<section id="types-of-tests">
<h2>Types of tests<a class="headerlink" href="#types-of-tests" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Test functions one at a time - <strong>Unit tests</strong></p></li>
<li><p>Test how parts work together - <strong>Integration tests</strong></p></li>
<li><p>Test the whole thing running - <strong>End-to-end tests</strong></p>
<ul>
<li><p>For example, running on sample data.</p></li>
</ul>
</li>
<li><p>Check same results as before - <strong>Regression tests</strong></p></li>
<li><p>Write test first (the output), then write code to make test pass -
<strong>Test-driven development</strong></p></li>
<li><p>GitHub or GitLab runs tests automatically - <strong>Continuous
integration</strong></p></li>
<li><p>Report that tells you which lines were/were not run by tests -
<strong>Code coverage</strong></p></li>
<li><p>Framework that runs test for you - <strong>Testing framework</strong></p>
<ul>
<li><p>See <a class="reference internal" href="../quick-reference/"><span class="doc std std-doc">Quick Reference</span></a> for some examples.</p></li>
</ul>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="what-should-you-do">
<h2>What should you do?<a class="headerlink" href="#what-should-you-do" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Not every code needs perfect test coverage.</p></li>
<li><p>If code is interactive-only (Jupyter Notebook), it’s usually hard to
test.</p>
<ul>
<li><p>But also hard to run: the next lesson will discuss!</p></li>
</ul>
</li>
<li><p>At least end-to-end is often easy to add.</p></li>
<li><p>Add tests of tricky functions.</p>
<ul>
<li><p>If you’d have to run it over and over to test while writing, why
not make it a property test?</p></li>
</ul>
</li>
<li><p>It’s easy to have Gitlab/Github run the tests.</p>
<ul>
<li><p>It’s nice to push without thinking, and the system tells you when
it’s broke.</p></li>
</ul>
</li>
<li><p><strong>Learning how to test well make the rest of your code better, too.</strong></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="where-to-start">
<h2>Where to start<a class="headerlink" href="#where-to-start" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>A simple script or notebook probably does not need an automated test.</p></li>
</ul>
<p><strong>If you have nothing yet</strong></p>
<ul class="simple">
<li><p>Start with an end-to-end test.</p></li>
<li><p>Describe in words how <em>you</em> check whether the code still works.</p></li>
<li><p>Translate the words into a script.</p></li>
<li><p>Run the script automatically on every code change.</p></li>
</ul>
<p><strong>If you want to start with unit-testing</strong></p>
<ul class="simple">
<li><p>You want to rewrite a function? Start adding a unit test right there first.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../" class="btn btn-neutral float-left" title="Automated testing - Preventing yourself and others from breaking your functioning code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../locally/" class="btn btn-neutral float-right" title="Testing locally" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright CodeRefinery contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>